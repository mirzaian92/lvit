---
import { getCollection } from "astro:content";
import BaseLayout from "@/layouts/BaseLayout.astro";
import TrustSignals from "@/components/TrustSignals.astro";
import { SITE } from "@/lib/site";
import { breadcrumbListSchema } from "@/lib/schema";

const services = await getCollection("services");
const industries = await getCollection("industries");
const locations = await getCollection("locations");

const canonical = new URL(Astro.url.pathname, SITE.url).toString();
const jsonLd = [breadcrumbListSchema([{ name: "Home", item: canonical }])];
---

<BaseLayout
  title="Las Vegas Managed IT Services and Cybersecurity"
  description="Managed IT, cybersecurity, Microsoft 365, and help desk support for Las Vegas-area businesses. 24 hours coverage, onsite when it makes sense, and documentation you can operate on."
  canonical={canonical}
  jsonLd={jsonLd}
>
  <div class="grid gap-10 lg:grid-cols-12 lg:items-start">
    <section class="lg:col-span-7">
      <div class="rounded-2xl border border-brand-border bg-white p-8 shadow-soft">
        <p class="text-sm font-semibold text-brand-accent">Las Vegas MSP</p>
        <h1 class="mt-3 text-4xl font-semibold tracking-tight text-brand-primary sm:text-5xl">
          IT support built for how Las Vegas businesses actually operate
        </h1>
        <p class="mt-5 max-w-2xl text-base leading-relaxed text-brand-text/85">
          If you need a managed service provider that can handle day-to-day IT, reduce security risk, and
          show up onsite when it matters, this site is organized to help you find the right fit fast.
          We focus on clear ownership, practical controls, and documentation that stays current.
        </p>
        <div class="mt-7 flex flex-wrap gap-3">
          <a
            class="focus-ring rounded-full bg-brand-primary px-6 py-3 text-sm font-semibold text-white hover:brightness-95"
            href="/contact#lead-form"
          >
            Book a discovery call
          </a>
          <a
            class="focus-ring rounded-full border border-brand-border px-6 py-3 text-sm font-semibold text-brand-primary hover:bg-brand-primary hover:text-white"
            href="/service"
          >
            View managed services
          </a>
        </div>
        <dl class="mt-8 grid gap-4 sm:grid-cols-3">
          <div class="rounded-xl border border-brand-border p-4">
            <dt class="text-xs font-semibold text-brand-text/70">Coverage</dt>
            <dd class="mt-1 text-sm font-semibold text-brand-primary">Las Vegas + nearby towns</dd>
          </div>
          <div class="rounded-xl border border-brand-border p-4">
            <dt class="text-xs font-semibold text-brand-text/70">Hours</dt>
            <dd class="mt-1 text-sm font-semibold text-brand-primary">{SITE.hours}</dd>
          </div>
          <div class="rounded-xl border border-brand-border p-4">
            <dt class="text-xs font-semibold text-brand-text/70">Approach</dt>
            <dd class="mt-1 text-sm font-semibold text-brand-primary">Standards + documentation</dd>
          </div>
        </dl>
      </div>

      <div class="mt-10">
        <TrustSignals />
      </div>

      <section class="mt-10 rounded-2xl border border-brand-border bg-white p-8">
        <h2 class="text-2xl font-semibold text-brand-primary">Start with a common need</h2>
        <p class="mt-3 text-sm text-brand-text/80">
          Each service page is written for Las Vegas operations and includes practical mistakes to avoid,
          what good looks like, and related paths based on typical environments around the valley.
        </p>
        <div class="mt-6 grid gap-3 sm:grid-cols-2">
          {services
            .sort((a, b) => a.data.title.localeCompare(b.data.title))
            .slice(0, 10)
            .map((s) => (
              <a
                class="focus-ring rounded-xl border border-brand-border px-5 py-4 font-semibold text-brand-primary hover:bg-brand-primary hover:text-white"
                href={`/service/${s.slug}`}
              >
                {s.data.title}
              </a>
            ))}
        </div>
        <div class="mt-6">
          <a class="focus-ring text-sm font-semibold text-brand-primary hover:underline" href="/service">
            See all IT services for Las Vegas businesses
          </a>
        </div>
      </section>
    </section>

    <aside class="lg:col-span-5 lg:sticky lg:top-28">
      <div class="space-y-6">
        <section class="rounded-2xl border border-brand-border bg-white p-6">
          <h2 class="text-lg font-semibold text-brand-primary">Industries we commonly support</h2>
          <p class="mt-2 text-sm text-brand-text/80">
            Industry pages focus on workflows, systems, risks, and compliance where it applies.
          </p>
          <ul class="mt-4 space-y-2 text-sm">
            {industries
              .sort((a, b) => a.data.title.localeCompare(b.data.title))
              .slice(0, 10)
              .map((i) => (
                <li>
                  <a class="focus-ring rounded-sm hover:text-brand-primary" href={`/industry/${i.slug}`}>
                    Managed IT for {i.data.title}
                  </a>
                </li>
              ))}
          </ul>
          <div class="mt-4">
            <a class="focus-ring text-sm font-semibold text-brand-primary hover:underline" href="/industry">
              Browse all industries
            </a>
          </div>
        </section>

        <section class="rounded-2xl border border-brand-border bg-white p-6">
          <h2 class="text-lg font-semibold text-brand-primary">Local coverage</h2>
          <p class="mt-2 text-sm text-brand-text/80">
            Explore locations for onsite planning, common issues by area, and FAQs tied to local
            environments.
          </p>
          <ul class="mt-4 grid gap-2 sm:grid-cols-2">
            {locations
              .sort((a, b) => a.data.title.localeCompare(b.data.title))
              .slice(0, 12)
              .map((l) => (
                <li>
                  <a
                    class="focus-ring block rounded-xl border border-brand-border px-4 py-3 text-sm font-semibold text-brand-primary hover:bg-brand-primary hover:text-white"
                    href={`/location/${l.slug}`}
                  >
                    {l.data.title}
                  </a>
                </li>
              ))}
          </ul>
          <div class="mt-4">
            <a class="focus-ring text-sm font-semibold text-brand-primary hover:underline" href="/location">
              View all service locations
            </a>
          </div>
        </section>
      </div>
    </aside>
  </div>
</BaseLayout>
